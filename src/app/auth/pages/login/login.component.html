<div class="form-container">
    <form [formGroup]="appForm" (ngSubmit)="login()">
        <div class="icons-container">
            <mat-icon class="img-icon" matSuffix>account_circle</mat-icon>
            <h1 class="login-title">Iniciar sesión</h1>
        </div>

        <div class="spinner" *ngIf="btnLoading;else send">
            <mat-spinner></mat-spinner>
        </div>

        <ng-template #send>
            <mat-form-field class="form-field" appearance="fill">
                <mat-label>Usuario</mat-label>
                <input matInput placeholder="Usuario" type="text" formControlName="user">
                <mat-icon class="iconClick" matSuffix (click)="cleanIncon()">
                    clear
                </mat-icon>
                <mat-error>Usuario requerido</mat-error>
            </mat-form-field>

            <mat-form-field class="form-field" appearance="fill">
                <mat-label>Contraseña</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'" placeholder="Contraseña" formControlName="password">
                <mat-icon class="iconClick" matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                <mat-error>Contraseña requerida</mat-error>
            </mat-form-field>

            <button [ngClass]="{btnInvalid: appForm.invalid}" [disabled]="appForm.invalid" type="submit" mat-button>
                Ingresar
            </button>
            <div class="createTitle">
                <p>¿no tiene cuenta?<a [routerLink]="['/auth/registro']">Crear cuenta.</a></p>
            </div>
        </ng-template>
    </form>
</div>